{% extends "PumWoodworkBundle::layout.html.twig" %}

{% set menu_active = "projects" %}

{% block content %}
    <ul class="breadcrumb">
        <li><a href="{{ path('ww_homepage') }}">Homepage</a> <span class="divider">/</span></li>
        <li class="active">Projects</li>
    </ul>
	<h2>
        Projects
        <small class="btn-group pull-right">
            <a class="btn btn-success" href="{{ path('ww_project_create') }}"><i class="icon-plus icon-white"></i> Create</a>
        </small>
    </h2>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Name</th>
                <th>Beams in project</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for project in projects %}
                <tr>
                    <td>
                        {{ project.name }}
                    </td>
                    <td>
                        {% for beam in project.beams %}
                            {{ beam.name }}<br />
                        {% endfor %}
                    </td>
                    <td>
                        <a class="btn" title="Edit project {{ project.name }}" href="{{ path('ww_project_edit', {projectName: project.name}) }}"><i class="icon-edit"></i> Edit</a>
                        <a class="btn btn-danger" title="Delete project {{ project.name }}" data-cancel="Cancel" data-confirm="Delete" data-text='Etes-vous sur de supprimer ce projet "{{ project.name }}" ?' href="{{ path('ww_project_delete', {projectName: project.name}) }}"><i class="icon-trash icon-white"></i> Delete</a>
                    </td>
                </tr>
            {% else %}
                <tr class="info">
                    <td colspan="2"><em>No project found. <a href="{{ path('ww_project_create') }}">Create a new project</a></td>
                </em>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
