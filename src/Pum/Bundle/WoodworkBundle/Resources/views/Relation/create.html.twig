{% extends "PumWoodworkBundle::layout.html.twig" %}

{% set menu_active = "beams" %}

{% block content %}
    <div class="pum-row-head">
        {{ pum_macros.section_title('New Relation', 'Create relation between objects and fields', 'in ' ~ '<a href="' ~ path('ww_beam_edit', {beamName: beam.name}) ~ '">' ~ beam.name|title ~ '</a>', [
            {
                href: path('ww_homepage'),
                text: 'Dashboard'
            },
            {
                href: path('ww_beam_list'),
                text: 'Beams'
            },
            {
                href: path('ww_beam_edit', {beamName: beam.name}),
                text: beam.name|title
            },
            {
                text: 'Create relation'
            }
        ]) }}
    </div>
    <div class="row">
        <div class="col-lg-4 col-offset-auto">
            {{form(form)}}
        </div>
    </div>
{% endblock %}

{% block javascript %}
    <script>
        var objects = [];
        {% for object in objects %}
            objects.push('{{ object }}');
        {% endfor %}
        $( "#ww_relation_from" ).autocomplete({
         source: objects
        });
        $( "#ww_relation_to" ).autocomplete({
         source: objects
        });
    </script>
{% endblock %}
